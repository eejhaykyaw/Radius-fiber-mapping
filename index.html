 <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fiber Color Code Lookup</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    h2 {
      margin-top: 30px;
      color: #333;
    }
    label {
      font-weight: bold;
    }
    select, input, button {
      margin: 5px 0 15px 0;
      padding: 8px;
      width: 100%;
      max-width: 300px;
    }
    .result {
      margin-top: 15px;
      padding: 10px;
      border-radius: 5px;
      background: #f2f2f2;
    }
    .color-box {
      display: inline-block;
      width: 20px;
      height: 20px;
      margin-right: 8px;
      border: 1px solid #000;
      vertical-align: middle;
    }
  </style>

<!-- PWA manifest & meta (add inside <head>) -->
<link rel="manifest" href="/manifest.json">
<link rel="apple-touch-icon" href="/icons/icon-192.png">
<meta name="theme-color" content="#2563eb">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

</head>
<body>
  <h1>Fiber Color Code Lookup</h1>

  <!-- Select Standard -->
  <label for="standard">Select Standard:</label>
  <select id="standard">
    <option value="radius">Radius Telco</option>
    <option value="generic">Other Telco Standard</option>
  </select>

  <!-- Select Cable Size -->
  <label for="cableSize">Select Cable Size:</label>
  <select id="cableSize">
    <option value="24">24F</option>
    <option value="48">48F</option>
    <option value="72">72F</option>
    <option value="96">96F</option>
    <option value="144">144F</option>
    <option value="192">192F</option>
    <option value="216">216F</option>
  </select>

  <h2>Lookup by Tube & Fiber Number</h2>
  <label for="tubeNumber">Tube Number:</label>
  <input type="number" id="tubeNumber" min="1">
  <label for="fiberNumber">Fiber Number within Tube:</label>
  <input type="number" id="fiberNumber" min="1">
  <button onclick="lookupByTubeFiber()">Lookup</button>
  <div id="tubeFiberResult" class="result"></div>

  <h2>Lookup by Fiber Color</h2>
  <label for="tubeColor">Tube Color:</label>
  <select id="tubeColor"></select>
  <label for="fiberColor">Fiber Color:</label>
  <select id="fiberColor"></select>
  <button onclick="lookupByColor()">Lookup</button>
  <div id="colorResult" class="result"></div>

  <script>
    // Define color sequences
    const radiusColors = [
      "Red", "Green", "Blue", "Yellow", "White", "Gray", "Brown", "Violet",
      "Aqua", "Black", "Orange", "Pink", "Tiger Red", "Tiger Green",
      "Tiger Blue", "Tiger Yellow"
    ];

    const genericColors = [
      "Blue", "Orange", "Green", "Brown", "Slate", "White",
      "Red", "Black", "Yellow", "Violet", "Rose", "Aqua"
    ];

    // Configurations for each standard
    const configs = {
      radius: {
        24:  { tubes: 6, fibersPerTube: 4 },
        48:  { tubes: 8, fibersPerTube: 6 },
        96:  { tubes: 8, fibersPerTube: 12 },
        192: { tubes: 16, fibersPerTube: 12 }
      },
      generic: {
        24:  { tubes: 3,  fibersPerTube: 8 },
        72:  { tubes: 6,  fibersPerTube: 12 },
        144: { tubes: 12, fibersPerTube: 12 },
        216: { tubes: 18, fibersPerTube: 12 }
      }
    };

    // Populate dropdowns with Radius as default
    function populateColorDropdowns() {
      const standard = document.getElementById("standard").value;
      const tubeSelect = document.getElementById("tubeColor");
      const fiberSelect = document.getElementById("fiberColor");
      tubeSelect.innerHTML = "";
      fiberSelect.innerHTML = "";

      const tubeColors = (standard === "radius") ? radiusColors : genericColors;
      const fiberColors = (standard === "radius") ? radiusColors : genericColors;

      tubeColors.forEach(c => {
        const option = document.createElement("option");
        option.value = c;
        option.textContent = c;
        tubeSelect.appendChild(option);
      });

      fiberColors.forEach(c => {
        const option = document.createElement("option");
        option.value = c;
        option.textContent = c;
        fiberSelect.appendChild(option);
      });
    }

    function lookupByTubeFiber() {
      const standard = document.getElementById("standard").value;
      const cableSize = parseInt(document.getElementById("cableSize").value);
      const tubeNumber = parseInt(document.getElementById("tubeNumber").value);
      const fiberNumber = parseInt(document.getElementById("fiberNumber").value);

      const config = configs[standard][cableSize];
      if (!config) {
        document.getElementById("tubeFiberResult").innerHTML = "Invalid cable size for selected standard.";
        return;
      }
      if (tubeNumber < 1 || tubeNumber > config.tubes ||
          fiberNumber < 1 || fiberNumber > config.fibersPerTube) {
        document.getElementById("tubeFiberResult").innerHTML = "Invalid tube or fiber number.";
        return;
      }

      const tubeColors = (standard === "radius") ? radiusColors : genericColors;
      const fiberColors = (standard === "radius") ? radiusColors : genericColors;

      const tubeColor = tubeColors[(tubeNumber - 1) % tubeColors.length];
      const fiberColor = fiberColors[(fiberNumber - 1) % fiberColors.length];

      document.getElementById("tubeFiberResult").innerHTML =
        <div><span class="color-box" style="background:${tubeColor.toLowerCase()}"></span>Tube Color: ${tubeColor}</div>
         <div><span class="color-box" style="background:${fiberColor.toLowerCase()}"></span>Fiber Color: ${fiberColor}</div>;
    }

    function lookupByColor() {
      const standard = document.getElementById("standard").value;
      const cableSize = parseInt(document.getElementById("cableSize").value);
      const tubeColor = document.getElementById("tubeColor").value;
      const fiberColor = document.getElementById("fiberColor").value;

      const config = configs[standard][cableSize];
      if (!config) {
        document.getElementById("colorResult").innerHTML = "Invalid cable size for selected standard.";
        return;
      }

      const tubeColors = (standard === "radius") ? radiusColors : genericColors;
      const fiberColors = (standard === "radius") ? radiusColors : genericColors;

      const tubeIndex = tubeColors.indexOf(tubeColor);
      const fiberIndex = fiberColors.indexOf(fiberColor);

      if (tubeIndex === -1 || fiberIndex === -1) {
        document.getElementById("colorResult").innerHTML = "Invalid color selection.";
        return;
      }

      const tubeNumber = (tubeIndex % config.tubes) + 1;
      const fiberNumber = (fiberIndex % config.fibersPerTube) + 1;

      document.getElementById("colorResult").innerHTML =
        Tube Number: ${tubeNumber}, Fiber Number: ${fiberNumber};
    }

    // Initialize dropdowns
    document.getElementById("standard").addEventListener("change", populateColorDropdowns);
    window.onload = populateColorDropdowns;
  </script>


  <footer style="text-align: center; font-size: 0.9em; color: #777; padding: 1em 0;">
  Built for fiber techs. Powered by OpenAI × GitHub.<br>
  Fiber logic color coding. © 2025 Erfe Jr Quiao. All rights reserved.
</footer>

<!-- Service worker registration (add before </body>) -->
<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/service-worker.js')
      .then(() => console.log('Service Worker registered'))
      .catch(err => console.warn('Service Worker registration failed:', err));
  }
</script>

</body>
</html>
